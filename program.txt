# HLT, ADD, SUB, STO, LDA,
# BR, BRZ, BRP, IN, OUT, DAT


# Design choices:

#1. Due to mailbox shortages, I will asume that the inputs are valid, in the base that they claim to be, however I will not assume that they are convertable by my program

####################		TAKING INPUTS AND RESETTING VALUES

	IN #n

	STO	temp



	LDA	zero
	STO	hundreds
	STO	tens
	STO	units
	STO	n
	BR	sthun


####################		SEPERATING DIGITS


subhun	STO 	temp
	LDA	hundreds
	ADD	one
	STO	hundreds
sthun	LDA	temp
	SUB	hun
	BRP	subhun
	BR	stten

subten	STO 	temp
	LDA	tens
	ADD	one
	STO	tens
stten	LDA	temp
	SUB	ten
	BRP	subten
	LDA	temp
	STO	units
	

###################  CONVERTING TO BASE 10
	IN #a
	STO	temp


addhun	LDA	hundreds
	BRZ	addten
	SUB	one
	STO	hundreds
	LDA	tens
	ADD	temp
	STO	tens
	BR	addhun

addten	LDA	tens
	BRZ	next
	SUB	one
	STO	tens
	LDA	units
	ADD	temp
	STO	b
	SUB	units
	BRP	addtencont
	BR	error
addtencont	LDA	b
	STO	units
	BR	addten

###################	CONVERT FROM 10 TO B

###### find b^2
next	IN #b
	STO	b
	STO	temp
	SUB	one
	STO	count

bsqcalc	LDA	count
	BRZ	stbsq
	SUB	one
	STO	count
	LDA	temp
	ADD	b
	STO	temp
	BR	bsqcalc

#### Actual conversion

subbsq	STO 	units
	LDA	n
	ADD	hun
	STO	n
	LDA	count
	ADD	one
	STO	count
	SUB	b
	BRZ	error
stbsq	LDA	units
	SUB	temp
	BRP	subbsq
	BR	stb

subb	STO 	units
	LDA	n
	ADD	ten
	STO	n
stb	LDA	units
	SUB	b
	BRP	subb
	LDA	units
	ADD	n
	OUT

zero	DAT	000
##################		ERROR

error	LDA	nnn
	OUT
one	DAT	001
	


###################		VARIABLES



nine	DAT	009
ten	DAT	010
hun	DAT	100

count	DAT	0
hundreds	DAT	
tens	DAT
units	DAT

n	DAT
b	DAT

temp	DAT

nnn	DAT	999



















